/**
 * Copyright since 2007 PrestaShop SA and Contributors
 * PrestaShop is an International Registered Trademark & Property of PrestaShop SA
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License version 3.0
 * that is bundled with this package in the file LICENSE.md.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/AFL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * @author    PrestaShop SA and Contributors <contact@prestashop.com>
 * @copyright Since 2007 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License version 3.0
 */
(()=>{"use strict";const e=window.$,t=window.$;new class{constructor(t){return this.$container=e(t),this.$container.on("click",".js-input-wrapper",(t=>{const l=e(t.currentTarget);this._toggleChildTree(l)})),this.$container.on("click",".js-toggle-choice-tree-action",(t=>{const l=e(t.currentTarget);this._toggleTree(l)})),{enableAutoCheckChildren:()=>this.enableAutoCheckChildren(),enableAllInputs:()=>this.enableAllInputs(),disableAllInputs:()=>this.disableAllInputs()}}enableAutoCheckChildren(){this.$container.on("change",'input[type="checkbox"]',(t=>{const l=e(t.currentTarget);l.closest("li").find('ul input[type="checkbox"]').prop("checked",l.is(":checked"))}))}enableAllInputs(){this.$container.find("input").removeAttr("disabled")}disableAllInputs(){this.$container.find("input").attr("disabled","disabled")}_toggleChildTree(e){const t=e.closest("li");t.hasClass("expanded")?t.removeClass("expanded").addClass("collapsed"):t.hasClass("collapsed")&&t.removeClass("collapsed").addClass("expanded")}_toggleTree(t){const l=t.closest(".js-choice-tree-container"),s=t.data("action"),a={addClass:{expand:"expanded",collapse:"collapsed"},removeClass:{expand:"collapsed",collapse:"expanded"},nextAction:{expand:"collapse",collapse:"expand"},text:{expand:"collapsed-text",collapse:"expanded-text"},icon:{expand:"collapsed-icon",collapse:"expanded-icon"}};l.find("li").each(((t,l)=>{const n=e(l);n.hasClass(a.removeClass[s])&&n.removeClass(a.removeClass[s]).addClass(a.addClass[s])})),t.data("action",a.nextAction[s]),t.find(".material-icons").text(t.data(a.icon[s])),t.find(".js-toggle-text").text(t.data(a.text[s]))}}(".js-choice-tree-container").enableAutoCheckChildren(),new class{constructor(){t(document).on("change",".js-choice-table-select-all",(e=>{this.handleSelectAll(e)}))}handleSelectAll(e){const l=t(e.target),s=l.is(":checked");l.closest("table").find("tbody input:checkbox").prop("checked",s)}}})();